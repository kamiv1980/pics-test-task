"use strict";(self.webpackChunkpics_test_task=self.webpackChunkpics_test_task||[]).push([[275],{3275:(e,t,r)=>{r.r(t),r.d(t,{default:()=>E});var s=r(5043),o=r(1596),n=r(9456),i=r(4150),a=r(8387),d=r(8610),l=r(4535),c=r(8249),u=r(2532),m=r(2372);function x(e){return(0,m.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var f=r(579);const h=(0,l.Ay)(o.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),A=s.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiCard"}),{className:s,raised:o=!1,...n}=r,i={...r,raised:o},l=(e=>{const{classes:t}=e;return(0,d.A)({root:["root"]},x,t)})(i);return(0,f.jsx)(h,{className:(0,a.A)(l.root,s),elevation:o?8:void 0,ref:t,ownerState:i,...n})}));function p(e){return(0,m.Ay)("MuiCardContent",e)}(0,u.A)("MuiCardContent",["root"]);const j=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),v=s.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiCardContent"}),{className:s,component:o="div",...n}=r,i={...r,component:o},l=(e=>{const{classes:t}=e;return(0,d.A)({root:["root"]},p,t)})(i);return(0,f.jsx)(j,{as:o,className:(0,a.A)(l.root,s),ownerState:i,ref:t,...n})}));var y=r(4516),C=r(5865),b=r(9508),w=r(7392);const k=(0,r(9662).A)((0,f.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),M=e=>{let{comment:t}=e;const r=(0,n.wA)();return(0,f.jsx)(A,{variant:"outlined",sx:{mb:2,boxShadow:3},children:(0,f.jsxs)(v,{children:[(0,f.jsxs)(y.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,f.jsxs)(C.A,{variant:"h6",color:"textSecondary",children:[t.user.fullName," (@",t.user.username,")"]}),(0,f.jsxs)(C.A,{variant:"body2",color:"info",children:[t.likes," likes"]})]}),(0,f.jsx)(C.A,{variant:"body1",sx:{mt:1,ml:3},children:t.body}),(0,f.jsx)(y.A,{display:"flex",justifyContent:"flex-end",children:(0,f.jsx)(b.A,{title:"Delete",children:(0,f.jsx)(w.A,{onClick:()=>r((0,i.Tu)(t.id)),children:(0,f.jsx)(k,{color:"error"})})})})]})})};var S=r(2926),g=r(1906),N=r(4858),R=r(5051);const _=function(){const e={body:"",likes:0,user:(0,n.d4)(R.oF)},{register:t,handleSubmit:r,reset:s,clearErrors:o,formState:{errors:a}}=(0,N.mN)({defaultValues:e}),d=(0,n.wA)();return(0,f.jsxs)("form",{onSubmit:r((async e=>{await d((0,i.BC)(e)),s()})),children:[(0,f.jsx)(S.A,{margin:"dense",label:"Add comment",type:"text",fullWidth:!0,variant:"outlined",error:!!a.body,helperText:a.body?"field is required":"",...t("body",{required:!0})}),(0,f.jsxs)(y.A,{display:"flex",justifyContent:"flex-end",sx:{mt:1,mb:2},children:[(0,f.jsx)(g.A,{variant:"text",color:"primary",type:"reset",onClick:()=>o(),children:"Cancel"}),(0,f.jsx)(g.A,{type:"submit",variant:"text",color:"primary",sx:{ml:2},children:"Save"})]})]})};const E=function(){const e=(0,n.wA)(),t=(0,n.d4)((e=>e.comments.comments)),r=(0,n.d4)((e=>e.comments.status)),a=(0,n.d4)((e=>e.comments.error));return(0,s.useEffect)((()=>{"idle"===r&&e((0,i.p4)())}),[r,e]),"loading"===r?(0,f.jsx)("div",{children:"Loading..."}):"failed"===r?(0,f.jsxs)("div",{children:["Error: ",a]}):(0,f.jsxs)(o.A,{sx:{p:2},elevation:3,children:[(0,f.jsx)(_,{}),t.map((e=>(0,f.jsx)(M,{comment:e},e.id)))]})}}}]);
//# sourceMappingURL=275.d70e0878.chunk.js.map